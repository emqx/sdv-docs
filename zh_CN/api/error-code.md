# 错误码

HTTP 响应状态码能够直观的判断可能存在的问题，在此基础上 platform 定义了一系列的错误码来标识具体的错误原因。当发生错误时，错误码将通过 Body 以 JSON 格式返回，您可以根据错误码 `code` 了解错误分类，根据原因 `message` 了解具体的错误信息：

```json
{
  "code": "ORG_RECORD_NOT_FOUND",
  "message": "组织不存在"
}
```

## 错误码详情

```yaml
# System
INTERNAL_SERVER_ERROR: "服务器内部错误"
INVALID_PARAM: "参数错误"
UNKNOWN_KEYCLOAK_ERROR: "服务器内部错误"
RESOURCE_QUOTA_NOT_ENOUGH: "配额不足"
RESOURCE_QUOTA_EXCEED_TOTAL: "空闲资源配额超过总资源配额"
REQUEST_TIMEOUT: "请求超时"

# Organization
ORG_CREATE_FAILED: "组织创建失败"
ORG_RECORD_NOT_FOUND: "组织不存在"
USER_NOT_BELONG_TO_ORG: "用户不属于组织"
ORG_NAME_INVALID: "组织名称必填，只允许汉字、字母、数字、空格、下划线和中划线，且最大长度为50"
ORG_NAME_DUPLICATED: "组织名称已经被使用"
ORG_DESCRIPTION_INVALID: "组织描述最大长度为100"
ORG_CREATE_SHOULD_HAVE_CREATOR: "创建组织需要有创建者"
ORG_CREATE_CREATOR_NOT_FOUND: "组织创建者不存在"
ORG_USER_NOT_FOUND: "组织用户不存在"
ORG_USER_ROLE_NOT_FOUND: "组织用户角色不存在"
ORG_DELETE_SHOULD_CLEANUP_PROJECTS: "请先删除组织下的所有项目"
ORG_SHOULD_HAVE_ADMINISTRATORS: "组织必须有管理员"
ORG_DELETE_ONLY_ADMINISTRATORS: "删除成员将导致组织没有管理员"
ORG_REACH_MAX_NUMBER: "组织最多创建100个"
ORG_UID_DUPLICATED: "暂时无法创建组织，请重试"

# Project
PROJECT_RECORD_NOT_FOUND: "项目不存在"
PROJECT_NAME_INVALID: "项目名称必填，只允许汉字、字母、数字、空格、下划线和中划线，且最大长度为50"
PROJECT_NAME_DUPLICATED: "项目名称已经被使用"
PROJECT_DESCRIPTION_INVALID: "项目描述最大长度为100"
PROJECT_CREATE_SHOULD_HAVE_CREATOR: "创建项目需要有创建者"
PROJECT_CREATE_CREATOR_NOT_FOUND: "项目创建者不存在"
PROJECT_DELETE_SHOULD_CLEANUP_DEPLOYMENTS: "请先删除项目下的所有集群"
PROJECT_DELETE_SHOULD_CLEANUP_EDGE_SERVICES: "请先删除项目下的所有边缘服务"
PROJECT_USER_ROLE_NOT_FOUND: "项目成员角色不存在"
PROJECT_SHOULD_HAVE_ADMINISTRATORS: "项目必须有管理员"
PROJECT_DELETE_ONLY_ADMINISTRATORS: "删除成员将导致项目没有管理员"
PROJECT_UID_DUPLICATED: "暂时无法创建项目，请重试"

# Deploy
DEPLOY_RECORD_NOT_FOUND: "指定部署不存在"
DEPLOY_META_RECORD_NOT_FOUND: "指定部署元数据不存在"
CERTIFICATE_OR_LICENSE_READ_FAILED: "证书文件读取失败"
READ_RESOURCE_QUOTA_FAILED: "查询资源配置失败"
RESOURCE_QUOTA_NOT_FIND: "指定的资源配置不存在"
DEPLOY_PRIMARY_KEY_REPEAT: "该集群名已存在，请修改集群名"
DEPLOY_METRIC_CONFIG_READ_FAILED: "查询 MetricConfig 失败"
DEPLOY_LOG_CONFIG_READ_FAILED: "查询 LogConfig 失败"
EMQX_STATUS_IS_NOT_ALLOW_EXECUTE_THE_ACTION: "当前部署状态不可以执行该操作"
SYNC_STATUS_EXCLUDED_NAMESPACES: "console 上报部署的状态里不含 Namespace"
EDGESERVICE_ENDPOINT_ERROR: "边缘服务 endpoint 格式错误（eg:47.102.152.39:7000）"
EDGESERVICE_PORT_BUSY: "没有可供使用的空闲端口， 请稍后再试"
DEPLOY_UID_DUPLICATED: "暂时无法创建部署，请重试"
TASK_SYNC_TIMEOUT: "Synchronize task status timed out"
CONNECTIONS_OR_CLUSTER_OVERFLOW_BC_LICENSE_QUOTA: "已超过 License 授权的连接数或集群数"
DEPLOY_DISABLED_DASHBOARD: "当前集群未开通 Dashboard 功能"
DEPLOY_BACKUP_UPLOAD_FILE_FAILED: "上传集群备份并恢复失败"
DEPLOY_NOT_FIND_FOR_VERSION: "请求的接口不存在，可能是使用的版本不匹配"
DEPLOY_BACKUP_TASK_RECORD_NOT_FOUND: "集群备份任务不存在"
DEPLOY_CANNOT_REPAIRE: "该集群无法修复"
DEPLOY_DELETE_FAILED: "删除该集群失败"
DEPLOY_DASHBOARD_UNAUTHORIZED: "Dashboard 权限错误"

# User
USER_RECORD_NOT_FOUND: "用户记录不存在"
USER_UNACTIVATED: "用户未激活"
USER_NO_ACCESS_PERMISSION: "无访问权限"
USER_SHOULD_UPDATE_PASSWORD: "请先修改密码"
USER_INVALID_ACCESS_TOKEN: "无效的访问令牌"
USER_INVALID_REFRESH_TOKEN: "无效的刷新令牌"
USER_CREDENTIALS_INVALID: "用户名或密码不正确"
USER_OLD_PASSWORD_INVALID: "旧密码不正确"
USER_TOKEN_EXPIRED: "令牌已失效"
USER_EMAIL_NOT_INVITED: "用户邮箱未被邀请"
USER_EMAIL_ALREADY_INVITED: "用户邮箱已经邀请"
USER_ALREADY_ACTIVATED: "用户已经激活"
USER_INVITATION_EXPIRED: "邀请已经过期"
USER_DELETE_ONLY_ADMINISTRATOR: "删除用户将导致系统没有管理员"
USER_DELETE_ONLY_ORG_ADMINISTRATOR: "删除用户将导致有些组织没有管理员"
USER_DELETE_ONLY_PROJECT_ADMINISTRATOR: "删除用户将导致有些项目没有管理员"
USER_DISABLE_ONLY_ADMINISTRATOR: "禁用用户将导致系统没有管理员"
USER_DISABLE_ONLY_ORG_ADMINISTRATOR: "禁用用户将导致某些组织没有管理员"
USER_DISABLE_ONLY_PROJECT_ADMINISTRATOR: "禁用用户将导致某些项目没有管理员"
USER_EMAIL_INVALID: "邮箱地址无效"
USER_DISABLED: "用户已禁用"
USER_NAME_INVALID: "用户名称必填，只允许汉字、字母、数字、空格、下划线和中划线，且最大长度为50"
USER_MOBILE_INVALID: "用户手机号最大长度为20"
USER_SUPERADMIN_ALREADY_EXISTED: "系统管理员已经存在"
USER_AVATAR_NOT_FOUND: "请上传头像文件"
USER_AVATAR_READ_FAILED: "头像文件读取失败"
USER_UNSUPPORTED_AVATAR_FILE: "不支持的头像文件"
USER_PASSWORD_INVALID: "密码至少8位，且包含字母、数字、符号中的两种"
USER_VERIFICATION_TOKEN_INVALID: "验证信息无效"
USER_VERIFICATION_TOKEN_EXPIRED: "验证信息已失效"
USER_ID_GENERATION_FAILED: "暂时无法创建用户，请重试"
USER_NAME_ALREADY_USED: "用户名已经被使用"
USER_EMAIL_ALREADY_USED: "用户邮箱已经被使用"
USER_VERIFICATION_EMAIL_INVALID: "邮件已失效"
USER_VERIFICATION_EMAIL_EXPIRED: "邮件已过期"
USER_VERIFICATION_EMAIL_ENABLED: "请使用邮件邀请方式创建用户"
USER_VERIFICATION_EMAIL_DISABLED: "未启用邮件认证方式"
USER_PASSWORD_RESET_CONTACT_ADMINISTRATOR: "请联系管理员重置密码"
USER_EMAIL_SEND_FAILED: "邮件发送失败"

# IaasConfig
IAAS_CONFIG_DUPLICATE: "硬件配置名称重复"
IAAS_CONFIG_READ_FAILED: "硬件配置文件读取失败"
IAAS_CONFIG_PARSE_FAILED: "硬件配置文件解析错误"

# Alarm
MONITOR_DATA_SAVE_FAILED: "指标数据存储失败"
MONITOR_RULE_CREATE_FAILED: "监控规则存储失败"
MONITOR_RULE_DELETE_FAILED: "监控规则删除失败"
MONITOR_RULE_UPDATE_FAILED: "监控规则更新失败"
MONITOR_RULE_GET_FAILED: "监控规则列表获取失败"
MONITOR_DATA_GET_FAILED: "监控统计数据获取失败"
MONITOR_ALARM_GET_FAILED: "告警数据获取失败"
MONITOR_LICENSE_GET_FAILED: "license数据获取失败"
MONITOR_UNSUPPORTED_CATEGORY: "不支持的边缘服务类型"
MONITOR_UNSUPPORTED_NODETYPE: "不支持的边缘服务连接类型"
MONITOR_GEN_HTTP_SD_FAILED: "配置Prometheus Service Discovery异常"
MONITOR_CONFIG_PROMETHEUS_FAILED: "配置Prometheus异常"
MONITOR_GET_NEURON_METRIC_FAILED: "获取Neuron指标异常"
MONITOR_GET_EKUIPER_METRIC_FAILED: "获取Ekuiper指标异常"
MONITOR_GET_EDGE_METRIC_FAILED: "获取边缘服务指标异常"
ALARM_SYSTEM_MAIL_NOT_AVAILABLE: "系统邮件连接失败，请联系系统管理员重新设置系统邮件地址和认证"
ALARM_WEBHOOK_TESTING_FAILED: "连接失败！"

# Task
TASK_RECORD_NOT_FOUND: "指定任务不存在"
TASK_CREATE_FAILED: "任务创建失败"

# Config
CONFIG_RECORD_NOT_FOUND: "指定配置不存在"
CONFIG_CREATE_FAILED: "配置创建失败"
CONFIG_UPDATE_FAILED: "配置更新失败"
CONFIG_INVALID_FORMATION: "配置格式错误"
CONFIG_DELETE_FAILED: "配置删除错误"
CONFIG_INVALID_NAME: "配置名称错误"
CONFIG_DEFAULT_STORAGE_CLASS_NEEDED: "默认StorageClass必须指定"
CONFIG_DEFAULT_IMAGE_NEEDED: "默认 Image 必须指定"
CONFIG_BC_SERVER_NEEDED: "Server名称必须指定"
CONFIG_LB_ANNOTATIONS_ONE_ENABLED: "请至少启用一个配置项"
CONFIG_LB_NOT_FIND_SUITABLE: "没有匹配的负载均衡配置"
CONFIG_LIST_MAXIMUM_100: "最多只能配置 100 个"
CONFIG_TESTING_FAILED: "测试失败！"
CONFIG_UI_SYSTEM_NAME_INVALID: "系统名称必填，只允许中英文、数字、空格、-_()[]{}<>，且最大长度为20"
CONFIG_UI_LOGO_READ_FAILED: "Logo文件读取失败"
CONFIG_UI_LOGO_SIZE_INVALID: "Logo文件应该小于2MB"
CONFIG_UI_LOGIN_IMAGE_READ_FAILED: "登录页图片读取失败"
CONFIG_UI_LOGIN_IMAGE_SIZE_INVALID: "登录页图片应该小于2MB"
CONFIG_MONITOR_INVALID_DURATION: "配置时间错误"
CONFIG_ALARM_EMAIL_RECEIVERS_INVALID: "请输入正确的邮件格式"
CONFIG_ALARM_WEBHOOK_TEMPLATE_REQURIED: "模版不能为空！"
CONFIG_ALARM_WEBHOOK_TEMPLATE_INVALID_FORMAT: "Json格式错误！"
CONFIG_ALARM_WEBHOOK_TEMPLATE_MISSING_REQUIRED_PARAM: "是必填参数，请重新输入。"
CONFIG_ALARM_WEBHOOK_TEMPLATE_INVALID_PARAM: "参数非法！"
CONFIG_ALARM_WEBHOOK_URL_INVALID: "请输入正确的URL地址"
CONFIG_ALARM_WEBHOOK_HTTP_HEADER_INVALID: "请输入正确的HTTP Header信息"
EDGESERVICE_CONFIG_QUOTA_LIMIT_MUST_UNIFORM: "CPU Limit 和 Memory Limit 必须同时为空， 或同时不为空"
CONFIG_LOCALIZATION_UNSUPPORTED_LANGUAGE: "指定语言不支持"
CONFIG_EKUIPER_IMAGE_SLIM_NEEDED: "eKuiper镜像必须使用slim或slim-python版本"

# ES
ES_INDEX_CREATE_FAILED: "es index创建失败"
ES_INDEX_DELETE_FAILED: "es index删除失败"
ES_INDEX_UPDATE_FAILED: "es index更新失败"
ES_INDEX_GET_FAILED: "es index获取失败"
ES_DOCUMENT_CREATE_FAILED: "es doc创建失败"
ES_DOCUMENT_DELETE_FAILED: "es doc删除失败"
ES_DOCUMENT_UPDATE_FAILED: "es doc更新失败"
ES_DOCUMENT_GET_FAILED: "es doc获取失败"
ES_UNSUPPORTED: "不支持es相关功能"
ES_URL_OVERFLOW: "由于服务太多，无法使用模糊查询， 请精确指定要查询的服务"

# License
LICENSE_INVALID_FILE: "无效的许可证文件"
LICENSE_FILE_REQUIRED: "请上传许可证文件"
LICENSE_FILE_READ_FAILED: "许可证文件读取失败"
LICENSE_EXPIRED: "许可证已过期"
LICENSE_WRITE_FAILED: "许可证写入失败"
LICENSE_SINGLE_CLUSTER_CONN_OVERFLOW: "超过单集群最大连接数限制"
LICENSE_ACTIVATION_PERIOD_EXCEEDED: "许可证超出激活有效期"
LICENSE_EXPIRED_OPERATION_DISABLED: "许可证已过期，不可以执行当前操作"
LICENSE_DUPLICATE_UPLOAD: "license 已经被上传过"
LICENSE_NO_AVAILABLE_INSTANCE: "许可证没有可用实例"
EDGEAGENT_AlREADY_DEREGISTER: "边缘代理已经注销"

# EMQX Cluster Management
CLUSTER_NAME_INVALID: "集群名称必填，只允许汉字、字母、数字、空格和中划线，且最大长度为200"
CLUSTER_NAME_DUPLICATED: "集群名称已经被使用"
CLUSTER_REGISTRATION_TOKEN_INVALID: "Invalid Registration Token"
CLUSTER_AGENT_NOT_FOUND: "Agent Not Found"
CLUSTER_NODE_ID_INVALID: "Invalid Node ID"
CLUSTER_OPERATION_UNIMPLEMENTED: "操作目前尚不支持"
CLUSTER_TUNNEL_PROXY_TIMEOUT: "请求超时"
CLUSTER_OPERATION_STATE_INVALID: "当前集群状态不可以执行该操作"
CLUSTER_DASHBOARD_DISABLED: "Dashboard 功能未启用"
CLUSTER_LOG_COLLECTION_DISABLED: "日志收集未启用"

# Assets
ASSETS_FILE_READ_FAILED: "文件读取失败"

# Identity Provider
IDP_RECORD_NOT_FOUND: "Identity Provider不存在"
IDP_NAME_INVALID: "名称必填，且最大长度为30"
IDP_NAME_DUPLICATED: "名称已经被使用"
IDP_DISPLAYNAME_INVALID: "显示名称最大长度为30"
IDP_SSO_DISABLED: "单点登录服务已停用"
IDP_SSO_EMAIL_ALREADY_USED: "邮箱地址已经被使用"
IDP_TYPE_INCORRECT: "单点登录协议错误"
IDP_TYPE_UNSUPPORTED: "不支持的协议类型"
IDP_SAML_IDPISSUER_INVALID: "身份提供者Issuer不能为空"
IDP_SAML_IDPSSOURL_INVALID: "身份提供者SSO地址不能为空"
IDP_SAML_SPENTITYID_INVALID: "Entity Id不能为空"
IDP_SAML_SPACSURL_INVALID: "服务提供者ACS地址不能为空"
IDP_SAML_SPSLOURL_INVALID: "服务提供者SLO地址不能为空"
IDP_SAML_VALIDATING_CERTIFICATE_INVALID: "签名验证证书无效"
IDP_SAML_SLOREQUEST_INVALID: "无效的登出请求"
IDP_SAML_SLOURL_INCORRECT: "SLO地址未配置"

# Edge Service
EDGESERVICE_OFFLINE: "边缘服务不在线"
EDGESERVICE_UNSUPPORTED_METHOD: "不支持的请求方式"
EDGESERVICE_UNSUPPORTED_MQTT: "不支持内网穿透"
EDGESERVICE_TUNNEL_FAILED: "代理失败"
EDGESERVICE_SERVICEID_NOT_EXIST: "边缘服务serviceID不存在"
EDGESERVICE_NAME_EXIST: "边缘服务名称已存在"
EDGESERVICE_CTREATE_FAILED: "边缘服务创建失败"
EDGESERVICE_DELETE_FAILED: "边缘服务删除失败"
EDGESERVICE_UPDATE_FAILED: "边缘服务更新失败"
EDGESERVICE_LIST_FAILED: "边缘服务获取失败"
EDGESERVICE_AGENTID_EMPTY: "代理模式下边缘代理ID不可为空"
EDGESERVICE_UNSUPPORTED_CATEGORY: "不支持的边缘服务类型"
EDGESERVICE_UNSUPPORTED_NODETYPE: "不支持的边缘服务连接类型"
EDGESERVICE_AGENT_UNSETTED: "未配置agent"
EDGESERVICE_EXPORT_FAILED: "边缘服务导出失败"
EDGESERVICE_IMPORT_FAILED: "边缘服务导入失败"
EDGESERVICE_UNSUPPORTED_FILE_FORMAT: "不支持的文件格式"
EDGESERVICE_FILE_SIZE_EXCEED_LIMIT: "导入文件超出限制"
EDGESERVICE_ALARM_GET_FAILED: "边缘服务告警数量获取失败"
EDGESERVICE_TRANSFER_FAILED: "边缘服务转移失败"
EDGESERVICE_COUNT_FAILED: "边缘服务数量获取失败"
EDGESERVICE_COUNT_EXCEED_LIMIT: "边缘服务数量已达上限"
EDGESERVICE_ENDPOINT_EXIST: "边缘服务已存在！边缘地址：%v"
EDGESERVICE_ENDPOINT_AND_AGENTID_EXIST: "边缘服务已存在！边缘地址：%v，边缘代理名称：%v"
EDGESERVICE_ALARM_LIST_FAILED: "边缘服务告警列表获取失败"
EDGETEMPLATE_EXPORT_FAILED: "边缘服务模版导出失败"
EDGETEMPLATE_IMPORT_FAILED: "边缘服务模版导入失败"
EDGETEMPLATE_DELIVER_FAILED: "边缘服务模版下发失败"
EDGETASK_PROCESSING_COUNT_EXCEED_LIMIT: "仅支持在组织内同时进行一个下发任务"
EDGETEMPLATE_DELIVER_LIST_IS_EMPTY: "边缘服务模版下发列表为空"
EDGETEMPLATE_DELIVER_RESULT_GET_FAILED: "边缘服务模版下发结果获取失败"
EDGESERVICE_TAG_NAME_INVALID: "标签只允许为中文、大小写英文、数字、-，且最大长度为5"
EDGESERVICE_UNSUPPORTED_VERSION: "不支持的边缘服务版本"
EDGESERVICE_AUTH_FAILED: "边缘服务认证失败"
EDGETEMPLATE_IS_EMPTY: "模版不能为空"
EDGETEMPLATE_IS_NOT_JSON: "边缘服务模版格式不正确"
EDGETEMPLATE_PARAM_COUNT_EXCEED_LIMIT: "模版参数不能多于50个"
EDGETEMPLATE_PARAM_INVALID: "参数名【%v】不合法，请输入10个字以内的英文大小写、数字、-、_"
EDGETEMPLATE_PARAM_DUPLICATE: "参数名【%v】存在多个"
EDGETEMPLATE_PARAM_EXPORT_FAILED: "边缘服务模版参数导出失败"
EDGETEMPLATE_DELIVER_TARGET_IS_EMPTY: "边缘服务模版下发目标无有效值"
EDGETEMPLATE_PARAM_IMPORT_FAILED: "边缘服务模版参数导入失败"
EDGETEMPLATE_PARAM_MISSING_SPECIFIC_SHEET: "边缘服务模版参数未找到制定sheet"
EDGETEMPLATE_VIEW_FAILED: "边缘服务模版预览失败"
EDGETEMPLATE_CORRESPOND_FAILED: "边缘服务模版字段与参数不对应"
EDGETEMPLATE_VALIDATE_FAILED: "边缘服务模版校验失败"
EDGETEMPLATE_WRONG_FORMAT_OR_PARAM: "边缘服务模版格式错误或参数类型错误"
EDGESERVICE_UNSUPPORTED_AUTH: "不支持的认证类型"
EDGESERVICE_INVALID_USERNAME_OR_PASSWORD: "无效的用户名或密码"
EDGESERVICE_SERVICEID_INVALID: "边缘服务ID无效"
EDGESERVICE_SERVICEID_ALREADY_USED: "边缘服务ID已被使用"
EDGESERVICE_SERVICENAME_INVALID: "边缘服务名称无效"

# Edge Agent
EDGEAGENT_NAME_EXIST: "边缘网关名称已存在"
EDGEAGENT_ID_EXIST: "边缘网关ID已存在"
EDGEAGENT_CREATE_FAILED: "边缘网关创建失败"
EDGEAGENT_DELETE_FAILED: "边缘网关删除失败"
EDGEAGENT_UPDATE_FAILED: "边缘网关修改失败"
EDGEAGENT_LIST_FAILED: "边缘网关查询失败"
EDGEAGENT_HEALTH_FAILED: "边缘网关更新健康状态失败"
EDGEAGENT_BE_BOUND: "边缘网关仍有绑定的边缘服务，无法删除"
EDGEAGENT_ID_NOT_EXIST: "边缘网关ID不存在"
EDGEAGENT_NOT_MATCH: "不匹配的边缘网关"
EDGEAGENT_TRANSFER_FAILED: "边缘网关转移失败"
EDGEAGENT_ID_INVALID: "边缘网关ID非法"

# Tag
TAG_RECORD_NOT_FOUND: "标签不存在"
TAG_NAME_INVALID: "名称必填，只允许为中文、大小写英文、数字、-，且最大长度为10"
TAG_NAME_DUPLICATED: "名称已经被使用"
TAG_REACH_TRIAL_MAX_COUNT: "标签数量超过上限，试用版每个项目最多创建3个标签"
TAG_REACH_MAX_COUNT: "标签数量达到上限，每个项目最多创建100个标签"
TAG_DELETE_STILL_USING: "标签已被使用，请清除标签相关数据"
TAG_REACH_EDGESERVICE_MAX_COUNT: "标签数量超过系统设定的10个，保存失败"

# Edge Task
EDGETASK_TASK_NOTFOUND: "指定任务不存在"
EDGETASK_HTTPAPI_INVALID_OPERATION: "边缘服务请求操作无效"
EDGETASK_HTTPAPI_INVALID_OPERATION_METHOD: "边缘服务请求Method无效"
EDGETASK_HTTPAPI_INVALID_OPERATION_PATH: "边缘服务请求PATH无效"
EDGETASK_FILEUPLOAD_INVALID_FILES: "请求文件不能为空"
LEVEL_INVALID: "level只支持common,debug"
FILEUPLOAD_DELETE_PARAM_ERROR: "delete 参数无效"
```