# SDV Flow API

SDV Flow 提供了 HTTP API 以实现与外部系统的集成。

SDV Flow  的 HTTP API 服务默认监听 14260 端口。可通过 `etc/sdv-flow.conf` 配置文件修改监听端口.

## API 文档

包括系统，数据总线，流处理引擎等相关功能，API 详情请查阅 [链接](https://docs.emqx.com/zh/sdv-flow/latest/api/api-docs.html)。

## 响应码

### HTTP 状态码 (status codes)

SDV Flow  接口在调用成功时总是返回 200 OK ，响应内容则以 JSON 格式返回。

可能的状态码如下：

| Status Code | Description                                              |
| :---------- | :------------------------------------------------------- |
| 200         | 成功，返回的 JSON 数据将提供更多信息                     |
| 201         | 成功, 无数据返回                                         |
| 400         | 客户端请求无效，例如请求体或参数错误                     |
| 401         | 客户端未通过服务端认证，使用无效的身份验证凭据可能会发生 |
| 404         | 找不到请求的路径或者请求的对象不存在                     |
| 500         | 服务端处理请求时发生内部错误                             |

### 返回码 (result codes)

消息总线模块的接口的响应消息体为 JSON 格式，其中总是包含返回码 `code`。

可能的返回码如下：

| Return Code | Description                   |
| :---------- | :---------------------------- |
| 0           | 成功                          |
| 101         | RPC 错误                      |
| 102         | 未知错误                      |
| 103         | 用户名或密码错误              |
| 104         | 空用户名或密码                |
| 105         | 用户不存在                    |
| 106         | 管理员账户不可删除            |
| 107         | 关键请求参数缺失              |
| 108         | 请求参数错误                  |
| 109         | 请求参数不是合法 JSON 格式    |
| 110         | 插件已开启                    |
| 111         | 插件已关闭                    |
| 112         | 客户端不在线                  |
| 113         | 用户已存在                    |
| 114         | 旧密码错误                    |
| 115         | 不合法的主题                  |
| 116         | Token 已过期                  |
| 117         | 请求参数不是合法的 HOCON 格式 |
| 118         | 配置文件写失败                |