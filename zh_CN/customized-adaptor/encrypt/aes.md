# 通信加密

## 一、概述
为了保障数据传输的安全性，我们的系统支持对**上行数据**进行加密处理。当您在配置文件中启用 AES 加密时，所有上行数据将被加密传输，确保数据在传输过程中的机密性和完整性，防止数据被非法截获或篡改。

## 二、配置文件设置说明

sdv-flow 的配置文件为sdv-flow.yaml,sdv-platform 的配置文件为ecp.yaml,二者都需要进行配置，才能车端加密，云端解密成功。

```yaml
  encrypt:
    enable: true
    way: aes
    keyPath: /data/sdv-flow/key.json
```

### `encrypt` 字段
该字段用于定义加密相关的配置信息。
- **`enable`**：表示是否启用加密功能。设置为`true`时，将启用加密；设置为`false`时，将关闭加密。
- **`way`**：指定加密方式，当前支持`aes`，即 AES 加密算法。AES 是一种广泛使用的对称加密算法，具有较高的安全性和效率。
- **`keyPath`**：指定加密密钥文件的路径。在本例中，密钥文件路径为`/data/sdv-flow/key.json`。请确保该路径下的密钥文件存在且格式正确，密钥文件中应包含用于 AES 加密的密钥信息。

## 三、使用指南

### 1. 启用加密功能
- 在配置文件中找到`encrypt`字段。
- 将`enable`设置为`true`，以启用加密功能。
- 确认`way`字段值为`aes`，表示使用 AES 加密算法。
- 检查`keyPath`字段值是否正确指向密钥文件的路径，并确保密钥文件存在且格式正确。

### 2. 准备密钥文件
- 创建一个名为`key.json`的文件，并将其放置在`/data/sdv-flow/`目录下。
- 在`key.json`文件中，填写用于 AES 加密的密钥信息。密钥应符合 AES 加密算法的要求，为 128 位的长度。

### 3. 保存并应用配置
- 保存配置文件的更改。
- 重启相关服务或进程，使配置文件生效。

## 四、注意事项

- **密钥安全性**：请妥善保管密钥文件，避免泄露给未经授权的人员。定期更换密钥，以提高系统的安全性。
- **配置文件格式**：确保配置文件的格式正确，避免因格式错误导致加密功能无法正常启用。
- **系统性能**：启用加密功能可能会对系统性能产生一定影响，特别是在数据量较大或网络带宽有限的情况下。请根据实际需求和系统资源合理配置。
- **兼容性**：确保接收端能够正确解密使用 AES 加密的上行数据，以保证数据传输的完整性和可用性。

通过启用 AES 加密功能，您可以有效提升上行数据的安全性，为数据传输提供更加可靠的保障。